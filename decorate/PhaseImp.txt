ACTOR PossessedPhaseImp : PossessedDevilImp
{
	Player.MorphWeapon "PhaseImpWeapon"
	RenderStyle Translucent
	
    Health 100
    Speed 0.4
    PainChance 80
	+QUICKTORETALIATE
	BloodColor "cf 00 b0"
	DropItem "LifeEssence" 125
	DropItem "ArmorBonusMax" 125
	DropItem "DemonAmmo" 128 60
    SeeSound "phaseimp/sight"
    PainSound "phaseimp/pain"
    DeathSound "phaseimp/death"
    ActiveSound "phaseimp/active"
    Obituary "%o was pierced by a Phase Imp."
    HitObituary "%o was lacerated by a Phase Imp."
    States
    {
    Spawn:
        DIMP A 10
		DIMI A 10
        Loop
    See:
		DIMP AABB 3
		TNT1 A 0 A_SpawnItem("HumanishStep",0,0,0,0)
		DIMP CCDD 3
		TNT1 A 0 A_SpawnItem("HumanishStep",0,0,0,0)	
        Loop
    Missile:
        DIMP EF 6
		TNT1 A 0 Bright
        DIMP G 5 Bright
		DIMP FE 4
		DIMP E 10
        Goto See
	/*
	Evade:
		TNT1 A 0 A_Jump(128,7)
		TNT1 A 0 ThrustThing(Angle*256/360+64,16,0,0)
		DIMP AAAA 3 A_Chase
		TNT1 A 0 A_Stop
		Goto See
		TNT1 A 0 ThrustThing(Angle*256/360+192,16,0,0)
		DIMP AAAA 3 A_Chase
		TNT1 A 0 A_Stop
		Goto See
	Phased:
        DIMP AABBCCDDAABBCCDDAABBCCDDAABBCCDD 1 A_ExtChase(0,0)
        DIMP AABBCCDDAABBCCDD 1 A_Chase
		TNT1 A 0 A_Jump(24,"UnPhase")
        Goto Phased+32
	*/
	}
}

Actor PhaseImpWeapon : PossessedWeapon
{
	States
	{
	Fire:
		TNT1 AA 6
		TNT1 A 0 Bright A_PlaySound("imp/attack")
        TNT1 A 5 Bright A_FireCustomMissile("PhaseImpBall")
		TNT1 AA 4
		Goto Ready
	}
}

Actor ImpPhase100 : CustomInventory
{
	+CLIENTSIDEONLY
	States
	{
	Pickup:
		TNT1 A 1 A_SetTranslucent(0.75)

		Stop
	}
}

Actor ImpPhase100 : CustomInventory
{
	+CLIENTSIDEONLY
	States
	{
		TNT1 A 0 A_SetTranslucent(1)
		Stop
	}
}

Actor ImpPhase75 : CustomInventory
{
	+CLIENTSIDEONLY
	States
	{
		TNT1 A 0 A_SetTranslucent(0.75)
		Stop
	}
}

Actor ImpPhase50 : CustomInventory
{
	+CLIENTSIDEONLY
	States
	{
		TNT1 A 0 A_SetTranslucent(0.5)
		Stop
	}
}

Actor ImpPhase25 : CustomInventory
{
	+CLIENTSIDEONLY
	States
	{
		TNT1 A 0 A_SetTranslucent(0.25)
		Stop
	}
}

Actor ImpPhase0 : CustomInventory
{
	+CLIENTSIDEONLY
	States
	{
		TNT1 A 0 A_SetTranslucent(0)
		Stop
	}
}
