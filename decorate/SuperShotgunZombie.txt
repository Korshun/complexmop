ACTOR PossessedSuperShotgunZombie : PossessedMonster
{ 
	Player.MorphWeapon "SuperShotgunZombieWeapon"

	Health 60
	Radius 20
	Height 56
	Speed 0.35
	Mass 100
	PainChance 120
	DropItem "NewShell" 256 8
	DropItem "StimKit" 80
	DropItem "ArmorBooster" 80
	DropItem "AmmoPack" 65
	DropItem "HandGrenadeAmmo" 150 1
	DropItem "MineAmmo" 75 1
	+FLOORCLIP
	+MISSILEMORE
	SeeSound "grunt/sight"
	AttackSound ""
	PainSound "grunt/pain"
	DeathSound "grunt/death"
	ActiveSound "grunt/active"
	Obituary "%o chewed on a Super Shotgun zombie's buckshot."
	States
	{
	Spawn:
		UDM2 A 10
		UDMI A 10
		Loop
	See:
		UDM2 AABB 3
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		UDM2 CCDD 3
		TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
		Loop
	Missile:
		UDM2 F 4 Bright
		UDM2 E 14
		Goto See
    }
}

Actor SuperShotgunZombieWeapon : PossessedWeapon
{
	States
	{
	Ready:
		TNT1 A 0 A_JumpIfInventory("SSGZombieToken", 2, "Ready2")
		TNT1 A 0 A_JumpIfInventory("SSGZombieToken", 1, "Ready1")
		Goto Ready0
	Ready2:
		SHTE A 1 A_WeaponReady
		Loop
	Ready1:
		SST2 A 1 A_WeaponReady
		Loop
	Ready0:
		SHT2 A 1 A_WeaponReady
		Loop
	Fire:
		TNT1 A 0 A_JumpIfInventory("SSGZombieToken",1,"AltFire")
	FireBoth:
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("weapons/sshotf")
		TNT1 A 0 Radius_Quake(6,3,0,1,0)
		TNT1 A 0 A_GiveInventory("SSGZombieToken",2)
		TNT1 AAAAAAAA 0 A_FireCustomMissile("MonsterTracer2",Random(6,-6),0,0,Random(6,-6))
		SH2F A 2 Bright A_FireBullets(13.8, 9.6, 12, 5)
		SH2F B 2 Bright A_Light2
		SH2E A 1 A_Light0
		SHT2 B 1
		SHT2 CDEF 1
		SHT2 EDCB 2
		Goto ReloadBothInstant
	AltFire:
		TNT1 A 0 A_JumpIfInventory("SSGZombieToken",2,"Reload")
		TNT1 A 0 A_PlaySound("weapons/ssgsingleshot")
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_Light1
		TNT1 A 0 Radius_Quake(3,3,0,1,0)
		TNT1 AAAA 0 A_FireCustomMissile("MonsterTracer2",Random(6,-6),0,0,Random(6,-6))
		TNT1 A 0 A_JumpIfInventory("SSGZombieToken",1,"FireLeft")
	FireRight:
		TNT1 A 0 A_GiveInventory("SSGZombieToken",1)
		S2SF A 2 Bright A_FireBullets(22.5,0,5,4)
		S2SF B 2 Bright A_Light2
		TNT1 A 0 A_Light0
		SH2R ABCD 1
		SST2 A 4
		Goto Ready
	FireLeft:
		TNT1 A 0 A_GiveInventory("SSGZombieToken",1)
		S2SF C 2 Bright A_FireBullets(22.5,0,5,4)
		S2SF D 2 Bright A_Light2
		TNT1 A 0 A_Light0
		SH2R EFGH 1
		SHTE A 4
		Goto Reload
	Reload:
		TNT1 A 0 A_JumpIfInventory("SSGZombieToken",2,"ReloadBoth")	
		TNT1 A 0 A_JumpIfInventory("SSGZombieToken",1,"ReloadLeft")
		Goto Ready
	ReloadBoth:
		SHT2 RQ 2
	ReloadBothInstant:
		SH2E B 2
		SHT2 GH 2
		SH2E F 1 A_PlayWeaponSound("weapons/sawedopen")
		SHT2 I 1
		SH2E G 1
		TNT1 AA 0 A_SpawnItemEx("SSGShellCasing",25,-2,25,Random(2,4),Random(-3,-6),Random(3,6),0)
		SH2E D 4
		SHT2 J 2 
		SH2E EH 2
		SHT2 K 3
		SHT2 L 3 A_PlayWeaponSound("weapons/shellslide")
		TNT1 A 0
		SHT2 M 2
		SHT2 N 2
		SHT2 OP 1 
		SH2E I 1 A_PlayWeaponSound("weapons/sawedclose")
		SH2E C 1
		SH2E B 2
		SHT2 QR 2
		TNT1 A 0 A_TakeInventory("SSGZombieToken", 2)
		Goto Ready
	ReloadRight:
		SHT2 RQ 2
		SH2E B 2
		SH2E C 1
		SH2E I 1 A_PlayWeaponSound("weapons/sawedopen")	
		SHT2 PO 1
		S2SR AB 1
		TNT1 A 0 A_SpawnItemEx("SSGShellCasing",25,-2,25,Random(2,4),Random(-3,-6),Random(3,6),0)
		S2SR C 4
		S2SR DEFG 2
		SHT2 L 2 A_PlayWeaponSound("weapons/shellslide")
		TNT1 A 0
		SHT2 M 2
		SHT2 N 2
		SHT2 OP 1 
		SH2E I 1 A_PlayWeaponSound("weapons/sawedclose")
		SH2E C 1
		SH2E B 2
		SHT2 QR 2
		TNT1 A 0 A_TakeInventory("SSGZombieToken", 1)
		Goto Ready
    }
}