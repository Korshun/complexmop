//=========
// Weapons
//=========

ACTOR "MOP Melee" : Fist replaces Fist
{
    Weapon.PreferredSkin "Fist-Marine"
    Obituary "%o was brutally beaten by %k."
	States
	{
	Deselect:
		PKFS A 1 A_Lower
		TNT1 A 0 A_Lower
		Loop
	Select:
		PKFS A 1 A_Raise
		TNT1 A 0 A_Raise
		Loop
    Ready:
		TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
		TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
		PKFS A 1 A_WeaponReady
		Loop		
	Fire:
		TNT1 A 0 A_JumpIfInventory("PowerStrength",1,"Berserked")
		TNT1 A 0 A_Jump(256,"NormalFist","NormalKick")
		Goto Ready
	NormalFist:
		PKFS LBCD 1
		PKFS E 2 A_CustomPunch(2*Random(1,10),TRUE,0,"PlayerFistPuff",64)
		PKFS FGHI 2
		PKFS JKL 1
		PKFS A 1 A_ReFire
		Goto Ready
	NormalKick:
		KICK A 1 A_PlaySound("weapons/kick")
		KICK BCDEF 1
		KICK G 5 A_CustomPunch(2*Random(11,20),TRUE,0,"PlayerFootPuff",96)	
		KICK EDCBA 2
		PKFS A 1
		PKFS A 5 A_ReFire
		Goto Ready		
	Berserked:
	    TNT1 A 0 A_Jump(256,"BerserkFist","BerserkKick")
		Goto Ready
	BerserkFist:
	    PKFS L 1 A_PlaySound("weapons/fistwiff")
		PKFS BCD 1
		PKFS E 2 A_CustomPunch(25*Random(1,10),TRUE,0,"PlayerFistPuff",64)		 
		PKFS FGHIJKL 1
		PKFS A 1 A_ReFire
		Goto Ready
	BerserkKick:
		KICK A 1 A_PlaySound("weapons/berserkkick")
		KICK BCDEF 1
		KICK G 5 A_CustomPunch(25*Random(11,20),TRUE,0,"PlayerFootPuff",96)		
		KICK EDCBA 1
		PKFS A 1
		PKFS A 5 A_ReFire
		Goto Ready
   GrenadeCheck:
	    TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
		TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	    Goto Ready
   GrenadeToss:
	    PKFR CBA 1
	    TNT1 A 4
	    HGRN ABC 1
	    HGRN D 3
	    HGRN EFGHI 2
	    TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	    TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	    TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
		HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
		HGRN J 1
		HGRN KLM 2
		HGRN NO 1
	    TNT1 A 6
	    TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
        TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	    TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	    TNT1 A 0
	    Goto Ready
   MineCheck:
	    TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
		TNT1 A 0 A_TakeInventory("MineAction",1)
	    Goto Ready
   MineToss:
	    PKFR CBA 1
	    TNT1 A 8
	    TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	    MINE ABCDEF 1		
	    TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	    MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	    MINE HI 1
	    MINE JK 2
	    TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
        TNT1 A 0 A_TakeInventory("Land Mine",1)
		TNT1 A 0 A_TakeInventory("MineAction",1)
	    TNT1 A 0
		TNT1 A 5
	    Goto Ready	
	    }
}		

ACTOR "MOP Chainsaw" : Chainsaw replaces "Chainsaw "
{
	Scale 0.65
    Inventory.PickupMessage "Chainsaw"
    Weapon.PreferredSkin "Chainsaw-Marine"
    Inventory.PickupSound "weapons/pickupsaw"
	+INVENTORY.UNDROPPABLE
	States
	{
	Spawn:
		CSAW A -1
		Stop	
	Deselect:
		TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
		TNT1 A 0 A_TakeInventory("MineAction",1)
		TNT1 A 0 A_TakeInventory("RailgunAction",1)
		SAWH A 1 A_Lower
		Goto Deselect+3
	Select:
		SAWH A 1 A_Raise
		TNT1 A 0 A_Raise
		Loop
	Ready:
		SAWH ABCD 2 A_WeaponReady
		Loop		
	Fire:
	    SAWL AB 1
	Hold:
		TNT1 A 0 Radius_Quake(1,2,0,1,0)
		SAWN A 2 A_Saw("weapons/sawfull","weapons/sawhit",Random(2,4),"SawScreech")
		TNT1 A 0 Radius_Quake(1,2,0,1,0)
		SAWN B 2 A_Saw("weapons/sawfull","weapons/sawhit",Random(2,4),"SawScreech")	
		TNT1 A 0 A_Refire
		SAWL BA 1
		Goto Ready
	    }
}

ACTOR "MOP Handgun" : Weapon replaces Handgun
{
   Scale 0.38
   Weapon.PreferredSkin "Handgun-Marine"
   Weapon.SelectionOrder 5000
   Weapon.KickBack 60
   Inventory.PickupSound "weapons/pickuptp"
   Weapon.AmmoGive 15
   Weapon.AmmoUse 1
   Weapon.AmmoType "PistolMagazine"
   Weapon.AmmoType2 "BulletMag"
   Inventory.Pickupmessage "Handgun"
   Obituary "%o caught one right between the eyes by %k's Pistol." 
   +NOAUTOFIRE
   +WEAPON.AMMO_OPTIONAL
   +WEAPON.NOALERT
   +INVENTORY.UNDROPPABLE
   States 
   { 
   Spawn: 
      23PT A -1 
      Stop
   Ready:
	  TNT1 A 0 A_PlayWeaponSound("weapons/pickuptp")
	  PIST ABCD 1
	  TNT1 A 0 A_JumpIfInventory("PistolMagazine",1,"Ready2")
	  Goto Ready3
   Ready2:
	  TNT1 A 0 A_JumpIfInventory("PistolMagazine",1,1)
	  Goto Ready3
	  TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	  TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
      PKPI A 1 A_WeaponReady
      Loop  
   Ready3:
      TNT1 A 0 A_JumpIfInventory("PistolMagazine",1,"Ready2")    
	  TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	  TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	  PKPE E 1 A_WeaponReady
	  Loop
   Deselect:
	  TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
      PKPI A 1 A_Lower
      TNT1 A 0 A_Lower
      Goto Deselect+1
   Select:
	  TNT1 A 0 A_Raise
      Wait
   Fire:
	  TNT1 A 0 A_JumpIfNoAmmo("Empty")
	  TNT1 A 0 A_PlaySound("weapons/tpfire")
	  TNT1 A 0 A_AlertMonsters
	  TNT1 A 0 Radius_Quake(1,2,0,1,0)
	  TNT1 A 0 A_FireBullets(1.6,1.6,-1,Random(5,7),"PlayerModdedBulletPuff")
	  TNT1 A 0 A_Light1
	  PKPF A 2 Bright A_GunFlash
	  TNT1 A 0 A_Light0
	  TNT1 A 0 A_SpawnItemEx("BulletCasing",30,0,30,Random(2,4),Random(3,6),Random(3,6),0)
	  PKPI B 1
	  TNT1 A 0 A_JumpIfNoAmmo("EmptyRecoil")
	  PKPI C 2
	  PKPI DEF 2 A_WeaponReady
	  PKPI A 1
	  Goto Ready2
   EmptyRecoil:
	  PKPE ABCD 2
	  PKPE E 1
	  Goto Ready3	  
   Empty:
      PKPE E 10 A_PlayWeaponSound("weapons/click")
	  TNT1 A 0 A_JumpIfInventory("BulletMag",1,"AltFire")
	  Goto Ready3
   AltFire:
  	  TNT1 A 0 A_JumpIfInventory("PistolMagazine",16,"Ready2")
      TNT1 A 0 A_JumpIfInventory("BulletMag",1,2)
	  TNT1 A 0
	  Goto Ready3
  	  TNT1 A 0 A_JumpIfInventory("PistolMagazine",1,"MaxReload")  
	  PKPR A 1 A_PlaySound("weapons/pistolclipout")
	  PKPR BC 1
	  PKPR D 2
	  PKPR E 2 A_FireCustomMissile("PistolEmptyMagSpawner", 0, 0, 0, 1)
	  PKPR F 5
	  PKPR GHI 2
	  PKPR J 2 A_PlayWeaponSound("weapons/pistolclipin")
	  PKPR K 2
	  PKPR L 2 A_PlayWeaponSound("weapons/pistolsnap")
	  TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload")
   Reload:
	  TNT1 A 0 A_TakeInventory("BulletMag",1)
	  TNT1 A 0 A_GiveInventory("PistolMagazine",1)
	  TNT1 A 0 A_JumpIfInventory("PistolMagazine",15,"Full")
	  TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload")
	  Goto Full
   MaxReload:
   	  PKR2 A 1 A_PlayWeaponSound("weapons/pistolclipout")
	  PKR2 BC 1
	  PKR2 D 2
	  PKR2 E 2 A_FireCustomMissile("PistolEmptyMagSpawner", 0, 0, 0, 1)
	  PKR2 F 5
	  PKR2 GHI 2
	  PKR2 J 2 A_PlayWeaponSound("weapons/pistolclipin")
	  PKR2 KL 2
	  TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload2")
   Reload2:
	  TNT1 A 0 A_TakeInventory("BulletMag",1)
	  TNT1 A 0 A_GiveInventory("PistolMagazine",1)
	  TNT1 A 0 A_JumpIfInventory("PistolMagazine",16,"Full")
	  TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload2")	  
   Full:
	  PKPR MNOPQ 1
	  Goto Ready2
   GrenadeCheck:
	  TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	  TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	  Goto Ready+5
   GrenadeToss:
  	  TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	  PIST DCBA 1
	  TNT1 A 4
	  HGRN ABC 1
	  HGRN D 3
	  HGRN EFGHI 2
	  TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	  TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	  TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	  HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	  HGRN J 1
	  HGRN KLM 2
	  HGRN NO 1
	  TNT1 A 6
	  TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
      TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	  TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	  TNT1 A 0
	  Goto Ready+1
    MineCheck:
	  TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	  TNT1 A 0 A_TakeInventory("MineAction",1)
	  Goto Ready+5
    MineToss:
  	  TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	  PIST DCBA 1
	  TNT1 A 8
	  TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	  MINE ABCDEF 1		
	  TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	  MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	  MINE HI 1
	  MINE JK 2
	  TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
      TNT1 A 0 A_TakeInventory("Land Mine",1)
	  TNT1 A 0 A_TakeInventory("MineAction",1)
	  TNT1 A 0
	  TNT1 A 5
	  Goto Ready+1
	  }
}

ACTOR "MOP Combat Shotgun" : Weapon replaces "Combat Shotgun"
{
  Scale 0.85
  Weapon.PreferredSkin "CombatSG-Marine"
  Weapon.SelectionOrder 4600
  Weapon.KickBack 80
  Weapon.AmmoUse 1
  Weapon.AmmoType "ShotgunMagazine"
  Weapon.AmmoType2 "NewShell"
  Weapon.AmmoGive2 8
  Obituary "%o was cut down by %k's Shotgun."
  Inventory.PickupMessage "Combat Shotgun"
  Inventory.PickupSound "weapons/12gsgcock"
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOALERT
  +INVENTORY.UNDROPPABLE
  States
  {
  Ready:
    TNT1 A 0 A_PlayWeaponSound("weapons/12gsgcock")
    SGUN ABCDEF 1
	TNT1 A 0 A_JumpIfInventory("ShotgunMagazine",1,"Ready2")
	Goto Ready3
  Ready2:
	TNT1 A 0 A_JumpIfInventory("ShotgunMagazine",1,1)
	Goto Ready3
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	SHTG A 1 A_WeaponReady
	Loop
  Ready3:
    TNT1 A 0 A_JumpIfInventory("ShotgunMagazine",1,"Ready2")   
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	SHTD A 1 A_WeaponReady
	Loop
  Deselect:
    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	SHTG A 1 A_Lower
    Goto Deselect+1 
  Select: 
	TNT1 A 0 A_Raise
    Wait
  Fire:
    TNT1 A 0 A_JumpIfNoAmmo("Empty")
	TNT1 A 0 A_PlaySound("weapons/12gaugefire",CHAN_WEAPON)
	TNT1 A 0 A_AlertMonsters
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 AAAA 0 A_FireCustomMissile("SGTracer",Random(6,-6),0,0,Random(6,-6))
    SHTF A 2 Bright A_FireBullets(4.2,2.4,7,Random(5,7),"PlayerModdedBulletPuff")
    SHTF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	SHTF CDEF 1
    SHTG BCDEFG 1
    SHTG G 1 A_PlaySound("weapons/12gsgcock")
	SHTG HI 2
    SHTG J 2 A_SpawnItemEx("ShellCasing",30,-2,25,Random(2,4),Random(3,6),Random(3,6),0)
    SHTG IHGF 2
    SHTG EDCB 1
	TNT1 A 0 A_JumpIfInventory("ShotgunMagazine",1,3)
	SHTD A 2
	TNT1 A 0 A_ReFire
    Goto Ready3
	SHTG A 2
	TNT1 A 0 A_ReFire
    Goto Ready+7
  Empty:
    SHTD A 10 A_PlayWeaponSound("weapons/click")	
  AltFire:
    TNT1 A 0 A_JumpIfInventory("ShotgunMagazine",9,2)
    TNT1 A 0 A_JumpIfInventory("NewShell",1,2)
	TNT1 A 0
	Goto Ready+7
	SHTG BCD 1
	SHTG EFG 2
	TNT1 A 0 A_JumpIfInventory("ShotgunMagazine",1,"Reload")
    SHTR ABC 1	
	SHTR D 1 A_PlaySound("Weapons/ShellLoad")
	SHTR E 1
	TNT1 A 0 A_TakeInventory("NewShell",1)
	TNT1 A 0 A_GiveInventory("ShotgunMagazine",1)
	SHTR FGHI 1
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    SHER A 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
    SHER B 2
    SHTG G 2 A_PlayWeaponSound("weapons/12gsgcock")
	SHTG HIJIH 2
    TNT1 A 0 A_JumpIfInventory("NewShell",1,1)
	Goto Full	
	SHER BA 2
  Reload:
	TNT1 A 0 A_JumpIfInventory("ShotgunMagazine",9,"Full")   
    SHTR ABC 1
	SHTR D 1 A_PlaySound("Weapons/ShellLoad")
	SHTR E 1
	TNT1 A 0 A_TakeInventory("NewShell",1)
	TNT1 A 0 A_GiveInventory("ShotgunMagazine",1)
	SHTR FGHI 1
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheckReloading")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheckReloading")
	SHTR A 1 A_WeaponReady(WRF_NOBOB|WRF_NOSECONDARY)
	TNT1 A 0 A_JumpIfInventory("NewShell",1,"Reload")
  Full:
    SHTG GFEDCB 1
	SHTG A 3
	Goto Ready+7
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready+7
  GrenadeCheckReloading:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Reload
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	SGUN FEDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+1
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready+7
  MineCheckReloading:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Reload
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	SGUN FEDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+1
  Spawn:
    SHOT A -1
    Stop
    }
}

ACTOR "MOP Assault Shotgun" : Weapon replaces "Assault Shotgun"
{
  Scale 0.85
  Weapon.PreferredSkin "AssaultSG-Marine"
  Weapon.SelectionOrder 4500
  Weapon.KickBack 80
  Weapon.AmmoUse 1
  Weapon.AmmoGive 0
  Weapon.AmmoGive2 8
  Weapon.AmmoType "ShotgunDrum"
  Weapon.AmmoType2 "NewShell"
  Inventory.PickupSound "AShotgun/Cock"
  Inventory.PickupMessage "Assault Shotgun"
  Obituary "%o was blown away by %k's Assault Shotgun."
  Decal BulletChip
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOALERT
  +INVENTORY.UNDROPPABLE
  States
  {
  Ready:
    TNT1 A 0 A_PlayWeaponSound("AShotgun/Cock")
	ASGR ABCDE 1
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    SMAG A 1 A_WeaponReady
    Goto Ready+6
  Deselect: 
    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
    SMAG A 1 A_Lower
    Goto Deselect+1
  Select:
	TNT1 A 0 A_Raise
    Wait	
  Fire:
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
	TNT1 A 0 A_PlaySound("AShotgun/Fire")
	TNT1 A 0 A_AlertMonsters
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_SpawnItemEx("ShellCasing",30,5,25,Random(2,4),Random(3,6),Random(3,6),0)
	TNT1 AAAA 0 A_FireCustomMissile("SGTracer",Random(5,-5),0,0,Random(5,-5))
    SMAF A 2 Bright A_FireBullets(6.0,3.2,7,Random(5,7),"PlayerModdedBulletPuff")
    SMAF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
    SMAG BCDE 1
	SMAG FA 2
    Goto Ready+6
  Empty:
    SMAG A 10 A_PlayWeaponSound("weapons/click")
  AltFire:
  	TNT1 A 0 A_JumpIfInventory("ShotgunDrum",16,2)
    TNT1 A 0 A_JumpIfInventory("NewShell",1,2)
	TNT1 A 0
	Goto Ready+6
	SMAR ABCDEF 1
	SMAR GO 2
	SMAR N 2 A_PlayWeaponSound("AShotgun/DrumOut")
	TNT1 A 0 A_JumpIfInventory("ShotgunDrum",1,"MaxReload")
	SMAR H 3
	SMAR I 2
	SMAR JKL 1
	SMAR M 25 A_FireCustomMissile("EmptyDrumSpawner", 0, 0, 10, 1) 
	SMAR LKJ 1
	SMAR I 2
	SMAR P 6 A_PlayWeaponSound("AShotgun/DrumIn")
	SMAR NOG 2
	SMAR FEDCBA 1
	SMAG A 5
	SMCK AB 2
	SMCK C 4 A_PlayWeaponSound("AShotgun/Cock")
	SMCK D 3
	SMCK A 2
	SMAG A 3	
	TNT1 A 0 A_JumpIfInventory("NewShell",1,"Reload")
  Reload:
	TNT1 A 0 A_TakeInventory("NewShell",1)
	TNT1 A 0 A_GiveInventory("ShotgunDrum",1)
	TNT1 A 0 A_JumpIfInventory("ShotgunDrum",15,2)
	TNT1 A 0 A_JumpIfInventory("NewShell",1,"Reload")
	TNT1 A 0
	Goto Ready+6
  MaxReload:
  	SMAR H 3
	SMAR I 2
	SMAR JKL 1
	SMAR M 25 A_FireCustomMissile("EmptyDrumSpawner", 0, 0, 10, 1) 
	SMAR LKJ 1
	SMAR I 2
	TNT1 A 0 A_JumpIfInventory("NewShell",1,"Reload2")
  Reload2:
	TNT1 A 0 A_TakeInventory("NewShell",1)
	TNT1 A 0 A_GiveInventory("ShotgunDrum",1)
	TNT1 A 0 A_JumpIfInventory("ShotgunDrum",16,"Full")
	TNT1 A 0 A_JumpIfInventory("NewShell",1,"Reload2")
  Full:
	SMAR P 6 A_PlayWeaponSound("AShotgun/DrumIn")
	SMAR NOG 2
	SMAR FEDCBA 1
	SMAG A 3
	Goto Ready+6
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready+6
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	ASGR EDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+1
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready+6
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	ASGR EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+1
  Spawn:
    SMAP A -1
    Stop
  }
}

ACTOR "MOP Double Barrel Shotgun" : Weapon replaces "Double Barrel Shotgun"
{
  Scale 0.85
  Weapon.PreferredSkin "DoubleBarrelSG-Marine"
  Weapon.SelectionOrder 400
  Weapon.KickBack 100
  Weapon.AmmoUse 0
  Weapon.AmmoGive 0
  Weapon.AmmoGive2 8
  Weapon.AmmoType "SSGShell"
  Weapon.AmmoType2 "NewShell"
  Inventory.PickupMessage "Double Barrel Shotgun"
  Inventory.PickupSound "weapons/pickupssg"
  Obituary "%o was utterley splattered by %k's Super Shotgun."
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOALERT
  +INVENTORY.UNDROPPABLE
  States
  {
  Ready:
    TNT1 A 0 A_PlayWeaponSound("weapons/pickupssg")
	S2GN ABCDEF 1
	TNT1 A 0 A_JumpIfInventory("SSGShell",2,"Ready2")
	TNT1 A 0 A_JumpIfInventory("SSGShell",1,"Ready3")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    SHTE A 1 A_WeaponReady
    Goto Ready+7
  Ready2:
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    SHT2 A 1 A_WeaponReady
    Goto Ready+7	
  Ready3:
  	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    SST2 A 1 A_WeaponReady
    Goto Ready+7
  Deselect: 
    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	TNT1 A 0 A_JumpIfInventory("SSGShell",2,"Deselect2")
	TNT1 A 0 A_JumpIfInventory("SSGShell",1,"Deselect3")
    SHTE A 1 A_Lower
    Goto Deselect+3
  Deselect2: 
    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
    SHT2 A 1 A_Lower
    Goto Deselect2+1
  Deselect3: 
    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
    SST2 A 1 A_Lower
    Goto Deselect3+1
  Select:
	TNT1 A 0 A_Raise
    Wait
  Fire:
	TNT1 A 0 A_JumpIfInventory("SSGShell",2,"FireBoth")
	TNT1 A 0 A_JumpIfInventory("NewShell",1,"Reload")
	Goto Empty
  FireBoth:
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_PlaySound("weapons/sshotf")
	TNT1 A 0 Radius_Quake(6,3,0,1,0)
	TNT1 A 0 A_TakeInventory("SSGShell",2)
	TNT1 AAAAAAAA 0 Bright A_FireCustomMissile("SGTracer",Random(8,-8),0,0,Random(8,-8))
    SH2F A 2 Bright A_FireBullets(11.2,7.1,20,5,"PlayerModdedBulletPuff")
    SH2F B 2 Bright A_Light2
	SH2E A 1 A_Light0
    SHT2 B 1
	SHT2 CDEF 1
    SHT2 EDCB 2
  SSGReloadCheck:
  	TNT1 A 0 A_JumpIfInventory("NewShell",2,2)
	SH2E A 2
	Goto Ready+7
	TNT1 A 0
	Goto ReloadBoth+4
  AltFire:
    TNT1 A 0 A_JumpIfInventory("SSGShell",2,"FireRight")
	TNT1 A 0 A_JumpIfInventory("SSGShell",1,1)
	Goto Reload
    TNT1 A 0 A_PlaySound("weapons/ssgsingleshot")
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_TakeInventory("SSGShell",1)
	TNT1 AAAA 0 A_FireCustomMissile("SGTracer",Random(6,-6),0,0,Random(6,-6))
    S2SF C 2 Bright A_FireBullets(5.0,2.8,7,Random(5,7),"PlayerModdedBulletPuff")
	S2SF D 2 Bright A_Light2
	TNT1 A 0 A_Light0
	SH2R EFGH 1
	SHTE A 2
    Goto Ready+7
  FireRight:
    TNT1 A 0 A_PlaySound("weapons/ssgsingleshot")
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_TakeInventory("SSGShell",1)
	TNT1 AAAA 0 A_FireCustomMissile("SGTracer",Random(6,-6),0,0,Random(6,-6))
    S2SF A 2 Bright A_FireBullets(5.0,2.8,7,Random(5,7),"PlayerModdedBulletPuff")
	S2SF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	SH2R ABCD 1
	SST2 A 2
    Goto Ready+7
  Empty:
    SHTE A 10 A_PlaySound("weapons/click")
	Goto Ready+7
  Reload:
	TNT1 A 0 A_JumpIfInventory("SSGShell",1,"ReloadRight")	
	TNT1 A 0 A_JumpIfInventory("NewShell",2,"ReloadBoth")
	Goto Empty		
  ReloadBoth:
    TNT1 A 0 A_JumpIfInventory("NewShell",2,1)
	Goto Ready+7
	SHT2 RQ 2
	SH2E B 2
	SHT2 GH 2
	SH2E F 1 A_PlayWeaponSound("weapons/sawedopen")
	SHT2 I 1
	SH2E G 1
	TNT1 AA 0 A_SpawnItemEx("SSGShellCasing",25,-2,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	SH2E D 4
    SHT2 J 2 
	SH2E EH 2
	SHT2 K 3
    SHT2 L 3 A_PlayWeaponSound("weapons/shellslide")
	TNT1 A 0 A_TakeInventory("NewShell",2)
	SHT2 M 2 A_GiveInventory("SSGShell",2)
	SHT2 N 2
	SHT2 OP 1 
	SH2E I 1 A_PlayWeaponSound("weapons/sawedclose")
	SH2E C 1
	SH2E B 2
	SHT2 QR 2	
    Goto Ready+7	
  ReloadRight:
    TNT1 A 0 A_JumpIfInventory("NewShell",1,1)
	Goto Ready+7
	SHT2 RQ 2
	SH2E B 2
	SH2E C 1
	SH2E I 1 A_PlayWeaponSound("weapons/sawedopen")	
 	SHT2 PO 1
	S2SR AB 1
	TNT1 A 0 A_SpawnItemEx("SSGShellCasing",25,-2,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	S2SR C 4
	S2SR DEFG 2
    SHT2 L 2 A_PlayWeaponSound("weapons/shellslide")
	TNT1 A 0 A_TakeInventory("NewShell",1)
	SHT2 M 2 A_GiveInventory("SSGShell",1)
	SHT2 N 2
	SHT2 OP 1 
	SH2E I 1 A_PlayWeaponSound("weapons/sawedclose")
	SH2E C 1
	SH2E B 2
	SHT2 QR 2
	Goto Ready+7
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready+7
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	S2GN FEDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+1
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready+7
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	S2GN FEDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+1
  Spawn:
    SGN2 A -1
    Stop
    }
}

ACTOR "MOP Quad Barrel Shotgun" : Weapon replaces "Quad Barrel Shotgun"
{
  Scale 0.9
  Weapon.PreferredSkin "QuadBarrelSG-Marine"
  Weapon.SelectionOrder 4450
  Weapon.KickBack 100
  Weapon.AmmoUse 0
  Weapon.AmmoGive 0
  Weapon.AmmoGive2 8
  Weapon.AmmoType "QuadShell"
  Weapon.AmmoType2 "NewShell"
  Inventory.PickupMessage "Quad Barrel Shotgun"
  Inventory.PickupSound "weapons/pickupqsg"
  Obituary "%o was destroyed by %k's Quad Shotgun."
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOALERT
  +INVENTORY.UNDROPPABLE
  States
  {
  Ready:
    TNT1 A 0 A_PlayWeaponSound("weapons/pickupqsg")
	QSHT ABCDE 1
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    QSGN A 1 A_WeaponReady
    Goto Ready+6
  Deselect: 
    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
    QSGN A 1 A_Lower
    Goto Deselect+1
  Select:
	TNT1 A 0 A_Raise
    Wait
  Fire:
	TNT1 A 0 A_JumpIfInventory("QuadShell",4,"QuadFire")
	TNT1 A 0 A_JumpIfInventory("NewShell",2,"Reload")
	Goto Empty
  QuadFire:
	TNT1 A 0 A_PlaySound("weapons/qsgfire")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_Recoil(2)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(10,5,0,1,0)
	TNT1 A 0 A_TakeInventory("QuadShell",4)	
	TNT1 AAAAAAAAAAAA 0 A_FireCustomMissile("SGTracer",Random(8,-8),0,0,Random(10,-10))
    QS4F A 2 Bright A_FireBullets(11.8,7.3,52,5,"PlayerModdedBulletPuff")
    QS4F B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	QSGN CFG 1
	QSGN H 2
	QSER A 3
	QSER B 6
	QSGN GFEDC 2
  QuadReloadCheck:
  	TNT1 A 0 A_JumpIfInventory("NewShell",4,2)
	QSGN S 2
	Goto Ready+6
	TNT1 A 0
	Goto ReloadFourShells+3
  AltFire:
    TNT1 A 0 A_JumpIfInventory("QuadShell",4,"FireUpper")
	TNT1 A 0 A_JumpIfInventory("QuadShell",2,1)
	Goto Reload
    TNT1 A 0 A_PlaySound("weapons/qsgdoublefire")	
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_TakeInventory("QuadShell",2)
	TNT1 AAAAAAAA 0 A_FireCustomMissile("SGTracer",Random(8,-8),0,0,Random(8,-8))
    QSGF C 2 Bright A_FireBullets(11.2,7.1,20,5,"PlayerModdedBulletPuff")
	QSGF D 2 Bright A_Light2
	TNT1 A 0 A_Light0
	QREC ABCDE 1
	QSGN A 1
    Goto Ready+6
  FireUpper:
    TNT1 A 0 A_PlaySound("weapons/qsgdoublefire")	
    TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
    TNT1 A 0 Radius_Quake(3,3,0,1,0)
	TNT1 A 0 A_TakeInventory("QuadShell",2)
	TNT1 AAAAAAAA 0 A_FireCustomMissile("SGTracer",Random(8,-8),0,0,Random(8,-8))
    QSGF A 2 Bright A_FireBullets(11.2,7.1,20,5,"PlayerModdedBulletPuff")
	QSGF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	QREC ABCDE 1
	QSGN A 1
    Goto Ready+6	
  Empty:
    QSGN A 10 A_PlayWeaponSound("weapons/click")
	TNT1 A 0 A_JumpIfInventory("NewShell",4,"ReloadFourShells")
	Goto Ready+6
  Reload:
	TNT1 A 0 A_JumpIfInventory("QuadShell",2,"ReloadTwoShells")
	TNT1 A 0 A_JumpIfInventory("NewShell",4,"ReloadFourShells")
	Goto Empty	
  ReloadFourShells:
	QSGN SRQ 2
	QSGN PJ 1
	QSGN K 1
	TNT1 AAAA 0 A_SpawnItemEx("SSGShellCasing",25,-2,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	QSGN L 1
	QSGR A 12 A_PlayWeaponSound("weapons/qsgopen")
	QSGR B 1
	QSGR CD 2
	TNT1 A 0 A_TakeInventory("NewShell",2)
	TNT1 A 0 A_GiveInventory("QuadShell",2)
	QSGR E 3 A_PlayWeaponSound("weapons/qsgshellslide")
	QSGR F 3
	QSGR G 2
	QSGR H 1
	QSGR I 8
	QSGR JK 1
	QSGR LM 2
	TNT1 A 0 A_TakeInventory("NewShell",2)
	TNT1 A 0 A_GiveInventory("QuadShell",2)
	QSGR N 3 A_PlayWeaponSound("weapons/qsgshellslide")	
	QSGR O 3
	QSGR P 2
	QSGR Q 1
	QSGN MNO 1
	QSGN P 1 A_PlayWeaponSound("weapons/qsgclose")
	QSGN QRS 2
	QSGN A 2
    Goto Ready+6
  ReloadTwoShells:
    TNT1 A 0 A_JumpIfInventory("NewShell",2,1)
	Goto Ready+6
	QSGN SRQ 2
	QSGN P 1
	QSEX A 1
	QSEX B 1
	TNT1 AA 0 A_SpawnItemEx("SSGShellCasing",25,-2,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	QSEX C 1
	QSGR I 12 A_PlayWeaponSound("weapons/qsgopen")
	QSGR JK 1
	QSGR LM 2
	TNT1 A 0 A_TakeInventory("NewShell",2)
	TNT1 A 0 A_GiveInventory("QuadShell",2)
	QSGR N 3 A_PlayWeaponSound("weapons/qsgshellslide")	
	QSGR O 3
	QSGR P 2
	QSGR Q 1
	QSGN MNO 1
	QSGN P 1 A_PlayWeaponSound("weapons/qsgclose")
	QSGN QRS 2
	QSGN A 2
	Goto Ready+6
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready+6
  GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	QSHT EDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+1
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready+6
  MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	QSHT EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+1
  Spawn:
    QSGP A -1
    Stop
    }
}

ACTOR "MOP Assault Rifle" : Weapon replaces "Assault Rifle"
{
	Weapon.PreferredSkin "AssaultRifle-Marine"
	Weapon.AmmoType "ARMagazine"
	Weapon.AmmoType2 "BulletMag"
	Weapon.SelectionOrder 4800
	Weapon.KickBack 50
	Weapon.AmmoGive2 20
	Weapon.AmmoUse 1
	Scale 0.95
	Inventory.PickupSound "items/assaultrifle"
	Obituary "%o was made into swiss cheese by %k's Assault Rifle."
    Inventory.PickupMessage "Assault Rifle"
	Decal BulletChip
	+WEAPON.AMMO_OPTIONAL
    +WEAPON.NOALERT
	+INVENTORY.UNDROPPABLE
	States
	{
    Deselect:
		TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
		CHGG A 1 A_Lower
		Goto Deselect+1
	Select:
		TNT1 A 0 A_Raise
		Wait
	Ready:
		TNT1 A 0 A_PlayWeaponSound("items/assaultrifle")
		CGNR ABCDE 1
		TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
		TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
		CHGG A 1 A_WeaponReady
		Goto Ready+6
	Fire:
	    TNT1 A 0 A_JumpIfNoAmmo("Empty")	
	    TNT1 A 0 A_PlaySound("weapons/assaultrifle")
	    TNT1 A 0 A_AlertMonsters	
		TNT1 A 0 A_GunFlash
		TNT1 A 0 Radius_Quake(1,2,0,1,0)
	    TNT1 A 0 A_SpawnItemEx("RifleCasing",30,3,25,Random(2,4),Random(3,6),Random(3,6),0)
		TNT1 A 0 A_Light1
		CHGF A 2 Bright A_FireBullets(4.0,2.4,1,Random(5,7),"PlayerModdedBulletPuff")
		TNT1 A 0 A_Light0
		CHGF BC 1
	    TNT1 A 0 A_JumpIfInventory("ARMagazine",1,1)
		Goto Ready+6
	    TNT1 A 0 A_PlaySound("weapons/assaultrifle")
	    TNT1 A 0 A_AlertMonsters	
		TNT1 A 0 A_GunFlash
		TNT1 A 0 Radius_Quake(1,2,0,1,0)
	    TNT1 A 0 A_SpawnItemEx("RifleCasing",30,3,25,Random(2,4),Random(3,6),Random(3,6),0)
		TNT1 A 0 A_Light2
		CHGF A 2 Bright A_FireBullets(4.0,2.4,1,Random(5,7),"PlayerModdedBulletPuff")
		TNT1 A 0 A_Light0
		CHGF BC 1
		TNT1 A 0 A_ReFire
		Goto Ready+6
	Flash:
		TNT1 A 0
		Goto LightDone
    Empty:
        CHGG A 10 A_PlayWeaponSound("weapons/click")
    AltFire:
  	    TNT1 A 0 A_JumpIfInventory("ARMagazine",41,2)
        TNT1 A 0 A_JumpIfInventory("BulletMag",1,2)
		TNT1 A 0
		Goto Ready+6
		TNT1 A 0 A_JumpIfInventory("ARMagazine",1,"MaxReload")
	    CHGR A 1 A_PlayWeaponSound("weapons/arreload")
 	    CHGR BCD 1
	    CHGR E 1 A_FireCustomMissile("AREmptyMagSpawner", 0, 0, 0, 1)
	    CHGR F 1
		CHGR G 8
		CHGR HIJK 1
	    CHGR L 8	
		CHGR MN 2
		CHGR OP 1
		CGCK A 1
		CGCK B 3
		CGCK C 4 A_PlayWeaponSound("weapons/arclick")
		CGCK D 3
		CGCK EF 2
		TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload")
    Reload:
	    TNT1 A 0 A_TakeInventory("BulletMag",1)
	    TNT1 A 0 A_GiveInventory("ARMagazine",1)
	    TNT1 A 0 A_JumpIfInventory("ARMagazine",40,2)
	    TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload")
		TNT1 A 0
		Goto Ready+6
	MaxReload:
	    CHGR A 1 A_PlayWeaponSound("weapons/arreload")
 	    CHGR BCD 1
	    CHGR E 1 A_FireCustomMissile("AREmptyMagSpawner", 0, 0, 0, 1)
	    CHGR F 1
		CHGR G 8
		CHGR HIJK 1
	    TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload2")
    Reload2:
	    TNT1 A 0 A_TakeInventory("BulletMag",1)
	    TNT1 A 0 A_GiveInventory("ARMagazine",1)
	    TNT1 A 0 A_JumpIfInventory("ARMagazine",41,"Full")
	    TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload2")
    Full:
	    CHGR L 8	
		CHGR MN 2
		CHGR OPQRS 1
	    CHGG A 2
	    Goto Ready+6
    GrenadeCheck:
	    TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
		TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	    Goto Ready+6
    GrenadeToss:
  	    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	    CGNR EDCBA 1
	    TNT1 A 4
		HGRN ABC 1
		HGRN D 3
		HGRN EFGHI 2
		TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
		TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
		TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
		HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
		HGRN J 1
		HGRN KLM 2
		HGRN NO 1
		TNT1 A 6
		TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
		TNT1 A 0 A_TakeInventory("Hand Grenade",1)
		TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
		TNT1 A 0
		Goto Ready+1
    MineCheck:
		TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
		TNT1 A 0 A_TakeInventory("MineAction",1)
		Goto Ready+6
    MineToss:
  	    TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	    CGNR EDCBA 1
		TNT1 A 8
		TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
		MINE ABCDEF 1		
		TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
		MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
		MINE HI 1
		MINE JK 2
		TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
		TNT1 A 0 A_TakeInventory("Land Mine",1)
		TNT1 A 0 A_TakeInventory("MineAction",1)
		TNT1 A 0
		TNT1 A 5
		Goto Ready+1
	Spawn:
		MGUN A -1
		Stop		
		}
}

ACTOR "MOP Minigun" : Weapon replaces "Minigun "
{
Scale 0.75
Weapon.Selectionorder 690
Weapon.KickBack 50
Weapon.PreferredSkin "Minigun-Marine"
Weapon.AmmoType "BulletMag"
Weapon.AmmoGive 20
Weapon.AmmoUse 1
Inventory.PickupSound "weapons/minigunpickup"
Inventory.PickupMessage "Minigun"
Obituary "%o was shredded by %k's Minigun."
+INVENTORY.UNDROPPABLE
States
{
Spawn:
	MNGN A -1
	Stop
Ready:
	TNT1 A 0 A_PlayWeaponSound("weapons/minigunpickup")
	MGRS ABCDE 1
	CHAG A 1 A_WeaponReady
	Goto Ready+6
Deselect:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	CHAG A 1 A_Lower
	Goto Deselect+4
Select:
	TNT1 A 0 A_Raise
	Wait
Fire:
	TNT1 A 0 A_PlaySound("weapons/mgunspin")
	TNT1 A 0 A_PlaySound("weapons/minigunfire",CHAN_WEAPON)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_SpawnItemEx("RifleCasing",25,-8,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(4,-4),0,0,Random(4,-4))
	CHAF A 1 Bright A_FireBullets(4.3,2.6,-1,Random(7,10),"PlayerModdedBulletPuff")
	TNT1 A 0 A_JumpIfNoAmmo("EmptySpinDown")
	CHAF BC 1 A_Light0
	TNT1 A 0 A_PlaySound("weapons/minigunfire",CHAN_WEAPON)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light2
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_SpawnItemEx("RifleCasing",25,-8,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(4,-4),0,0,Random(4,-4))
	CHAF D 1 Bright A_FireBullets(4.3,2.6,-1,Random(7,10),"PlayerModdedBulletPuff")
	TNT1 A 0 A_JumpIfNoAmmo("EmptySpinDown")	
	CHAF EF 1 A_Light0
	TNT1 A 0 A_PlaySound("weapons/minigunfire",CHAN_WEAPON)
	TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 Radius_Quake(2,2,0,1,0)
	TNT1 A 0 A_SpawnItemEx("RifleCasing",25,-8,25,Random(2,4),Random(-3,-6),Random(3,6),0)
	TNT1 A 0 A_FireCustomMissile("Tracer",Random(4,-4),0,0,Random(4,-4))
	CHAF G 1 Bright A_FireBullets(4.8,2.4,-1,Random(7,10),"PlayerModdedBulletPuff")
	TNT1 A 0 A_JumpIfNoAmmo("EmptySpinDown")	
	CHAF H 1 A_Light0
	TNT1 A 0 A_ReFire
	TNT1 A 0 A_PlaySound("weapons/mgunspinstop")
	CHAG ABCDABCDABCDABCD 1
	CHAG ABCD 2
	Goto Ready+6
EmptySpinDown:
	TNT1 A 0 A_PlaySound("weapons/mgunspinstop")
	CHAG ABCDABCDABCDABCD 1
	CHAG ABCD 2
	Goto Ready+6
	}
}

ACTOR "MOP Rocket Launcher" : Weapon replaces "Rocket Launcher"
{
Radius 20 
Height 16
Weapon.PreferredSkin "RocketLauncher-Marine"
Inventory.PickupMessage "Rocket Launcher"
Inventory.PickupSound "weapons/pickupml"
Weapon.SelectionOrder 5100
Weapon.Kickback 100
Weapon.AmmoType "RocketDrum"
Weapon.AmmoType2 "Missile"
Weapon.AmmoUse 1
Weapon.AmmoGive2 2
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+INVENTORY.UNDROPPABLE
States
{
Ready:
	TNT1 A 0 A_PlayWeaponSound("weapons/pickupml")
	MISU ABCDE 1
    MISG A 1 A_WeaponReady
    Goto Ready+6
Deselect:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	MISG A 1 A_Lower
    Goto Deselect+4
Select:
	TNT1 A 0 A_Raise
    Wait
Fire:
    TNT1 A 0 A_JumpIfNoAmmo("Empty")
	TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
    TNT1 A 0 A_Light1 
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
    MISF AB 1 Bright
	MISF C 1 Bright A_Light2
    MISF D 1 Bright A_FireCustomMissile("NewRocket")
	MISF E 2 A_Light0
	MISF FGHI 1
	MISF J 3 A_PlaySound("rocket/drumspin")
	MISF K 3
	MISG A 4
	TNT1 A 0 A_ReFire
    Goto Ready+6
Empty:
    MISG A 4 A_PlayWeaponSound("weapons/click4")
	MISF JK 3
AltFire:
  	TNT1 A 0 A_JumpIfInventory("RocketDrum",7,2)
    TNT1 A 0 A_JumpIfInventory("Missile",1,2)
	TNT1 A 0
	Goto Ready+6
	TNT1 A 0 A_JumpIfInventory("RocketDrum",1,"MaxReload")
	MISR A 2 A_PlaySound("weapons/rocketdrumin")
	MISR B 2
	MISR C 2 A_FireCustomMissile("RocketEmptyDrumSpawner", 0, 0, 0, 1)
	MISR DE 2
	MISR F 8
	MISR GH 2
	MISR I 3
	MISR J 5
	MISR KL 2
	MISR M 1
	MISF J 5 A_PlaySound("rocket/drumspin")
	MISF K 3
	MISG A 2
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload")
Reload:
	TNT1 A 0 A_TakeInventory("Missile",1)
	TNT1 A 0 A_GiveInventory("RocketDrum",1)
	TNT1 A 0 A_JumpIfInventory("RocketDrum",6,2)
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload")
	TNT1 A 0
	Goto Ready+6
MaxReload:
	MISR A 2 A_PlayWeaponSound("weapons/rocketdrumin")
	MISR B 2
	MISR C 2 A_FireCustomMissile("RocketEmptyDrumSpawner", 0, 0, 0, 1)
	MISR DE 2
	MISR F 8
	MISR GH 2
	MISR I 3
	TNT1 A 0 A_JumpIfInventory("RocketDrum",1,"Reload2")	
Reload2:
	TNT1 A 0 A_TakeInventory("Missile",1)
	TNT1 A 0 A_GiveInventory("RocketDrum",1)
	TNT1 A 0 A_JumpIfInventory("RocketDrum",7,"Full")
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload2")	
Full:
	MISR J 5
	MISR KL 2
	MISR M 1
	MISG A 2
	Goto Ready+6
Spawn:
    LAUN A -1
    Stop
    }
}

ACTOR "MOP Grenade Launcher" : Weapon replaces "Grenade Launcher"
{
  Weapon.PreferredSkin "GrenadeLauncher-Marine"
  Weapon.AmmoType "GrenadeDrum"
  Weapon.AmmoType2 "Missile"
  Weapon.AmmoGive2 2
  Weapon.AmmoUse 1
  Inventory.PickupMessage "Grenade Launcher"
  Inventory.PickupSound "Weapons/GrenadePickup"
  Weapon.SelectionOrder 5150
  Weapon.Kickback 100
  +WEAPON.NOAUTOAIM
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOALERT
  +INVENTORY.UNDROPPABLE
  States
  {
  Spawn:
    GRLN A -1
    Stop
  Deselect:
  	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	GREN A 1 A_Lower
    Goto Deselect+4
  Select:
	TNT1 A 0 A_Raise
    Wait
  Ready:
    TNT1 A 0 A_PlayWeaponSound("Weapons/GrenadePickup")
	GRUP ABCDE 1
    GREN A 1 A_WeaponReady
    Goto Ready+6
  Fire:
    TNT1 A 0 A_JumpIfNoAmmo("Empty")
	TNT1 A 0 A_AlertMonsters
    TNT1 A 0 A_GunFlash
    TNT1 A 0 A_Light1 
	TNT1 A 0 Radius_Quake(4,3,0,1,0)
	TNT1 A 0 A_PlaySound("Weapons/GrenadeFire")
    GREF BC 1 Bright
	GREF D 1 Bright A_Light2
    GREF E 1 Bright A_FireCustomMissile("RifleGrenade",0,TRUE,0,0,0,6.328125)
	TNT1 A 0 A_Light0
	GREF FGH 3
	GRER PQR 2
	GREN A 1
	TNT1 A 0 A_ReFire
    Goto Ready+6	
  Empty:
    GREN A 4 A_PlayWeaponSound("weapons/click4")
	GRER PQR 2
  AltFire:
  	TNT1 A 0 A_JumpIfInventory("GrenadeDrum",7,2)
    TNT1 A 0 A_JumpIfInventory("Missile",1,2)
    TNT1 A 0
    Goto Ready+6
	TNT1 A 0 A_JumpIfInventory("GrenadeDrum",1,"MaxReload")
	GRER A 2 A_PlayWeaponSound("Weapons/GrenadeReload")
	GRER B 2
	GRER C 2 A_FireCustomMissile("RocketEmptyDrumSpawner", 0, 0, 0, 1)
	GRER DE 2
	GREE A 8 
	GRER FG 1
	GRER HJK 2
	GRER L 5
	GRER MN 3
	GRER O 3 A_PlaySound("Weapons/GrenadeCycle")	
	GRER PQR 2
	GREN A 5	
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload")
  Reload:
	TNT1 A 0 A_TakeInventory("Missile",1)
	TNT1 A 0 A_GiveInventory("GrenadeDrum",1)
	TNT1 A 0 A_JumpIfInventory("GrenadeDrum",6,2)
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload")
	TNT1 A 0
	Goto Ready+6
  MaxReload:
	GRER A 2 A_PlayWeaponSound("Weapons/GrenadeReload")
	GRER B 2
	GRER C 2 A_FireCustomMissile("RocketEmptyDrumSpawner", 0, 0, 0, 1)
	GRER DE 2
	GREE A 8
	GRER FG 1
	GRER HJK 2
	GRER L 5
	GRER MNO 3
	TNT1 A 0 A_JumpIfInventory("GrenadeDrum",1,"Reload2")	
  Reload2:
	TNT1 A 0 A_TakeInventory("Missile",1)
	TNT1 A 0 A_GiveInventory("GrenadeDrum",1)
	TNT1 A 0 A_JumpIfInventory("GrenadeDrum",7,"Full")
	TNT1 A 0 A_JumpIfInventory("Missile",1,"Reload2")	
  Full:
	GREN A 5
	Goto Ready+6
	}
}

ACTOR "MOP Plasma Rifle" : Weapon replaces "Plasma Rifle"
{
Scale 0.85
Weapon.PreferredSkin "PlasmaRifle-Marine"
Inventory.PickupMessage "Plasma Rifle"
Inventory.PickupSound "weapons/pickuphr"
Weapon.Selectionorder 4050
Weapon.KickBack 100
Weapon.AmmoType "PlasmaCell"
Weapon.AmmoType2 "NewCell"  
Weapon.AmmoUse 1
Weapon.AmmoGive2 40
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOALERT
+INVENTORY.UNDROPPABLE
States
{
Ready:
	TNT1 A 0 A_PlayWeaponSound("weapons/pickuphr")
	PRAS ABCDEF 1
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
    PKPL A 1 A_WeaponReady
    Goto Ready+7
Deselect:
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	PKPL A 1 A_Lower
    Goto Deselect+1
Select:
	TNT1 A 0 A_Raise
    Wait
Fire:
	TNT1 A 0 A_JumpIfNoAmmo("Empty")
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 Radius_Quake(1,2,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_PlaySound("weapons/hrfire")
	PLSF B 2 A_FirePlasma
	PKPL A 1 Bright
	TNT1 A 0 A_JumpIfInventory("PlasmaCell",1,1)
	Goto Recoil
	TNT1 A 0 A_ReFire
Recoil:
	PKPL DEF 1
	PKPL G 7
	PKPL FED 2	
	PKPL CBA 1
	Goto Ready+7
Flash:
	TNT1 A 2 Bright A_Light1
	PLSF A 2 Bright A_Light2
	Goto LightDone	
Empty:
    PKPL A 10 A_PlayWeaponSound("weapons/click3")
AltFire:
  	TNT1 A 0 A_JumpIfInventory("PlasmaCell",50,2)
    TNT1 A 0 A_JumpIfInventory("NewCell",1,2)
	TNT1 A 0
	Goto Ready+7
	TNT1 A 0 A_PlayWeaponSound("weapons/plasmacellout")
	PLZR B 1 A_FireCustomMissile("PlasmaCellCasingSpawner", 0, 0, 0, 1) 
	PLZR CD 2
	PLZR E 10
	PLZR FGH 1
	TNT1 A 0 A_JumpIfInventory("NewCell",1,"Reload")
	PLZR I 2
	PLZR J 8 A_PlayWeaponSound("weapons/plasmacellin")
	PLZR KL 2
	PLZR M 1
	PKPL A 2
	Goto Ready+7
Reload:
	TNT1 A 0 A_TakeInventory("NewCell",1)
	TNT1 A 0 A_GiveInventory("PlasmaCell",1)
	TNT1 A 0 A_JumpIfInventory("PlasmaCell",50,"Full")
	TNT1 A 0 A_JumpIfInventory("NewCell",1,"Reload")
	Goto AltFire+12
Full:
    TNT1 A 0
    Goto AltFire+12
GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	Goto Ready+7
GrenadeToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	PRAS FEDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+1
MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	Goto Ready+7
MineToss:
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	PRAS FEDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+1
Spawn:
    PLAS A -1
    Stop
    }
}

ACTOR "MOP Railgun" : Weapon replaces "Railgun "
{
  Scale 0.8
  Weapon.PreferredSkin "Railgun-Marine"
  Weapon.Selectionorder 4000
  Weapon.KickBack 200
  Weapon.AmmoUse 10
  Weapon.AmmoGive 0
  Weapon.AmmoGive2 40
  Weapon.AmmoType "CellCharge"
  Weapon.AmmoType2 "NewCell"
  Inventory.PickupSound "weapons/pickuprg"
  Inventory.Pickupmessage "Railgun"
  Obituary "%o sucked on %k's Railgun slug."
  Decal RailScorch
  +WEAPON.AMMO_OPTIONAL
  +WEAPON.NOALERT  
  +WEAPON.NOAUTOAIM
  +INVENTORY.UNDROPPABLE
  States
  {
  Ready:
    TNT1 A 0 A_JumpIfInventory("CellCharge",10,"ReadyPulse")
    TNT1 A 0 A_PlayWeaponSound("weapons/railselect")
	RAEU ABCDE 1
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)
	RAIR A 1 A_WeaponReady
    Goto Ready+7
  ReadyZoomed:
	RSCP A 1 A_WeaponReady
	Goto ReadyLoop+2	
  ReadyPulse:
    TNT1 A 0 A_PlayWeaponSound("weapons/railselect")
	RAIU ABCDE 1
    Goto ReadyLoop
  ReadyLoop:
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,2)
	TNT1 A 0
	Goto Ready+7
	TNT1 A 0 A_PlayWeaponSound("weapons/railgunhum")
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady	
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL A 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
	RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL B 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 A_JumpIfInventory("RailgunAction",1,"Zoom")
    RAIL C 1 A_WeaponReady
    Goto ReadyLoop+2
  ReadyZoomed:
	TNT1 A 0 Bright A_JumpIfInventory("CellCharge",10,2)
	TNT1 A 0 Bright
	Goto Ready+7
	TNT1 A 0 Bright A_PlayWeaponSound("weapons/railgunhum")
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
	RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
	RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
	RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
	RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
	RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
	RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
	TNT1 A 0 Bright A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	TNT1 A 0 Bright A_JumpIfInventory("MineAction",1,"MineCheck")
	TNT1 A 0 Bright A_JumpIfInventory("RailgunAction",1,"Zoom")
    RSCP A 1 Bright A_WeaponReady(WRF_NOBOB)
    Goto ReadyZoomed+2	
  Deselect:
    TNT1 A 0 A_JumpIfInventory("CellCharge",10,"Deselect2")
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)
	RAIR A 1 A_Lower
    Goto Deselect+2
  Deselect2:
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)
	RAIL A 1 A_Lower
    Goto Deselect2+1	
  Select:
	TNT1 A 0 A_Raise
    Wait
  Fire:
    TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"FireZoomed")
    TNT1 A 0 A_JumpIfNoAmmo("Empty")
    TNT1 A 0 A_AlertMonsters  
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light1
	TNT1 A 0 A_FireCustomMissile("RailgunImpact",0,0,0,0)
    RAIF A 2 Bright A_RailAttack(250,0,1,"00 85 FF",None,0) 
	RAIF B 2 Bright A_Light2
	TNT1 A 0 A_Light0
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,"ChargedRecoil")
	RAER ABCD 2
	RAER EFG 1
	RAIR A 40
    Goto Ready+7
  ChargedRecoil:
    RAIF CDEF 2
	RAIF GHI 1
	RAIF J 40
	Goto ReadyLoop+2
  FireZoomed:
    TNT1 A 0 A_AlertMonsters  
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
    TNT1 A 0 A_GunFlash
	TNT1 A 0 A_Light2
	TNT1 A 0 A_FireCustomMissile("RailgunImpact",0,0,0,0)
	RSCP A 4 Bright A_RailAttack(250,0,1,"00 85 FF",None,0)
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,4)
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)	
	RAIR A 50 A_Light0
	Goto Ready+7
	TNT1 A 0 A_Light0
	RSCP A 10 Bright A_JumpIfInventory("RailgunAction",1,"FiredUnZoom")
	RSCP A 10 Bright A_JumpIfInventory("RailgunAction",1,"FiredUnZoom2")
	RSCP A 10 Bright A_JumpIfInventory("RailgunAction",1,"FiredUnZoom3")
	RSCP A 10 Bright A_JumpIfInventory("RailgunAction",1,"FiredUnZoom4")
	RSCP A 10 Bright A_JumpIfInventory("RailgunAction",1,"FiredUnZoom5")
	Goto ReadyZoomed
  Empty:
    RAIR A 15 A_PlaySound("weapons/click2")
  AltFire:
  	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)
    TNT1 A 0 A_JumpIfInventory("CellCharge",50,2)
    TNT1 A 0 A_JumpIfInventory("NewCell",10,2)
	TNT1 A 0
	Goto ReadyLoop
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)	
	RAIR ABCDEFG 1
	RAIR H 4 A_PlayWeaponSound("weapons/cellreload")
	RAIR IJKL 2
	RAIR M 1
	RAIR N 1 A_FireCustomMissile("CellCasingSpawner", random(-13,-15), 0, 2, 1)
	RAIR OPQR 1
	RAIR ST 2
	RAIR U 20
	RAIR VWX 1
	RAIR YZ 2
	RARL A 2
	TNT1 A 0 A_JumpIfInventory("NewCell",10,"Reload")	
	RARL B 4
	RARL C 3
	RARL DE 2
	RAIR A 30
	RAIF J 10 A_PlayWeaponSound("weapons/plasmacellin")
	Goto ReadyLoop+2
  Reload:
    TNT1 A 0 A_TakeInventory("NewCell",10)
	TNT1 A 0 A_GiveInventory("CellCharge",10)
	TNT1 A 0 A_JumpIfInventory("CellCharge",50,"Full")
	TNT1 A 0 A_JumpIfInventory("NewCell",1,"Reload")
	Goto AltFire+35
  Full:
    TNT1 A 0
	Goto AltFire+35
  Zoom:
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,"UnZoom")
    TNT1 A 0 A_GiveInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	RAIL A 3 A_ZoomFactor(5)
	RAIL BC 3
	Goto ReadyZoomed
  FiredUnZoom:
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	RAIF J 50 A_ZoomFactor(1)
	Goto ReadyLoop+2
  FiredUnZoom2:
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	RAIF J 40 A_ZoomFactor(1)
	Goto ReadyLoop+2
  FiredUnZoom3:
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	RAIF J 30 A_ZoomFactor(1)
	Goto ReadyLoop+2
  FiredUnZoom4:
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	RAIF J 20 A_ZoomFactor(1)
	Goto ReadyLoop+2
  FiredUnZoom5:
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	RAIF J 10 A_ZoomFactor(1)
	Goto ReadyLoop+2	
  UnZoom:
	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	RAIL A 3 A_ZoomFactor(1)
	RAIL BC 3
	Goto ReadyLoop+2	
  GrenadeCheck:
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,2)
	TNT1 A 0 A_ZoomFactor(1)
	Goto ReadyLoop
    TNT1 A 0
	Goto ReadyZoomed
  GrenadeToss:
  	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,"GrenadeToss2")
	RAEU EDCBA 1
	TNT1 A 4
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto Ready+2
  GrenadeToss2:
	RAIU EDCBA 1
	TNT1 A 6
	HGRN ABC 1
	HGRN D 3
	HGRN EFGHI 2
	TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	HGRN J 1
	HGRN KLM 2
	HGRN NO 1
	TNT1 A 6
	TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0
	Goto ReadyPulse+1
  MineCheck:
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_JumpIfInventory("RailgunZoomed",1,2)
	TNT1 A 0 A_ZoomFactor(1)
	Goto ReadyLoop
    TNT1 A 0
	Goto ReadyZoomed
  MineToss:
  	TNT1 A 0 A_TakeInventory("RailgunZoomed",1)
	TNT1 A 0 A_ZoomFactor(1)
  	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	TNT1 A 0 A_JumpIfInventory("CellCharge",10,"MineToss2")
	RAEU EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto Ready+2
  MineToss2:
	RAIU EDCBA 1
	TNT1 A 8
	TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	MINE ABCDEF 1		
	TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	MINE HI 1
	MINE JK 2
	TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
    TNT1 A 0 A_TakeInventory("Land Mine",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0
	TNT1 A 5
	Goto ReadyPulse+1
  Spawn:
    SRCG A -1
    Stop
    }
}

ACTOR "MOP BFG9500" : BFG9000 replaces BFG9500
{
Scale 0.85
Weapon.PreferredSkin "BFG9500-Marine"
Inventory.PickupSound "weapons/bfgpickup"
Inventory.PickupMessage "BFG9500"
Obituary "%o was annihilated by %k's BFG9500."
Weapon.AmmoType "NewCell"
+INVENTORY.UNDROPPABLE
States
{
Select:   
    TNT1 A 0 A_PlayWeaponSound("weapons/bfgpickup")
    BFGG A 1 A_Raise
    Goto Select+1
Deselect:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	BFGG A 1 A_Lower
    Goto Deselect+4
Fire:
	TNT1 A 0 A_Light1
    BFGG A 2 Bright A_PlaySound("weapons/bfgf")
    BFGC ABCDE 2 Bright Radius_Quake(2,2,0,1,0)
    BFGC FGHI 1 Bright Radius_Quake(3,2,0,1,0)
    BFGC FGHIF 1 Bright Radius_Quake(4,2,0,1,0)
	BFGC GH 1 Bright Radius_Quake(6,2,0,1,0)
	TNT1 A 0 A_Light2
    TNT1 A 0 A_GunFlash
	TNT1 A 0 Radius_Quake(12,4,0,1,0)
	DBFF A 4 Bright A_FireBFG
	DBFF B 3 Bright
	TNT1 A 0 A_Light0
	BFGR ABCD 1
	BFGR EFG 2
	BFGG A 20 A_ReFire
    Goto Ready	
Spawn:
    BF95 A -1
    Stop
Flash:
	TNT1 A 0
    Stop    
    }
}	

ACTOR "MOP BFG10K" : Weapon replaces "BFG10K "
{
  Scale 0.85
  Height 20
  Weapon.PreferredSkin "BFG10K-Marine"
  Weapon.SelectionOrder 2790
  Weapon.AmmoType "NewCell"
  Weapon.AmmoUse 5
  Weapon.AmmoGive 40
  Inventory.PickupMessage "BFG10K"
  Inventory.PickupSound "weapons/pickup15k"
  Obituary "%o was blasted to a crisp by %k's BFG10K."
  +WEAPON.NOAUTOFIRE
  +INVENTORY.UNDROPPABLE
  States
  {
  Spawn:
    BFG2 A -1
    Stop
  Ready:
    TNT1 A 0 A_JumpIfNoAmmo("Ready2")
    TNT1 A 0 A_PlayWeaponSound("weapons/bfg15kidle")
    BG2G AAA 1 A_WeaponReady
    BG2G BBB 1 A_WeaponReady
    BG2G CCC 1 A_WeaponReady
    BG2G DDD 1 A_WeaponReady
    Loop
  Ready2:
    TNT1 A 0 A_JumpIfInventory("NewCell",5,"Ready")
    BGE2 A 1 A_WeaponReady
	Loop
  Deselect:
  	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
    TNT1 A 0 A_JumpIfNoAmmo("Deselect2")
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	BG2G A 1 A_Lower
    Goto Deselect+5	
  Deselect2:
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	BGE2 A 1 A_Lower
    Goto Deselect2+1		
  Select:
    TNT1 A 0 A_JumpIfNoAmmo("Select2")
    TNT1 A 0 A_Playsound("weapons/pickup15k")
    BG2G A 1 A_Raise
    Goto Select+2
  Select2:
    TNT1 A 0 A_PlayWeaponSound("weapons/pickup15k")
    BGE2 A 1 A_Raise
    Goto Select2+1	
  Fire:
    BG2G E 25 A_PlayWeaponSound("weapons/charge15k")
    BG2G F 4
    BG2G GHIJ 1
    Goto Hold
  Hold:
    BG2E A 1 Bright A_GunFlash
    BG2G K 1 Bright
	TNT1 A 0 A_PlaySound("weapons/bfg15kfire")
	TNT1 A 0 Radius_Quake(6,3,0,1,0)
	BG2E B 1 Bright A_FireCustomMissile("10KProjectile",Random(100,-100)/100.00,1,0,0,0,Random(100,-100)/100.00)
    BG2G LMNO 1
    TNT1 A 0 A_ReFire
    BG2G O 35 A_PlaySound("weapons/bfg15kcooldown") 
    Goto Ready
  Flash:
    TNT1 A 2 Bright A_Light1
    TNT1 A 2 Bright A_Light2
	TNT1 A 2 Bright A_Light1
    Goto LightDone
  }
}

//==================
// Demon Tech Rifle
//==================

ACTOR "MOP Demon Tech Rifle" : Weapon replaces "Demon Tech Rifle"
{
   Height 14
   Weapon.PreferredSkin "DemonTechRifle-Marine"
   Weapon.SelectionOrder 7980
   Weapon.KickBack 60
   Weapon.AmmoUse 1
   Weapon.AmmoGive 60
   Scale 0.95
   Weapon.AmmoType "DemonMagazine"   
   Weapon.AmmoType2 "DemonAmmo"
   Inventory.PickupMessage "Demon Tech Rifle"
   Inventory.PickupSound "weapons/demontechload"
   Obituary "%o was fried by %k's Demon Tech Rifle."
   +WEAPON.AMMO_OPTIONAL
   +WEAPON.NOALERT
   +INVENTORY.UNDROPPABLE
   States
   {
   Ready:
     TNT1 A 0 A_PlayWeaponSound("weapons/demontechload")
	 DTRS ABCDE 1
   ReadyLoop:
     TNT1 A 0 A_JumpIfInventory("DemonMagazine",1,2)
	 TNT1 A 0
	 Goto NoBuzzing
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady	 
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK AAA 1 A_WeaponReady
	 TNT1 A 0 A_PlaySound("weapons/demontechidle")
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK BB 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK BB 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK CC 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK CC 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK DD 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK DD 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK EE 1 A_WeaponReady
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
	 DTEK EE 1 A_WeaponReady
     Goto ReadyLoop
   NoBuzzing:
     TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
     DTEK A 1 A_WeaponReady
	 Loop
   Deselect:
     TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
     DTEK A 1 A_Lower
     Goto Deselect+1
   Select:
	 TNT1 A 0 A_Raise
	 Wait
   Fire:
     TNT1 A 0 A_JumpIfNoAmmo("Empty")
	 TNT1 A 0 A_AlertMonsters
     TNT1 A 0 A_GunFlash
	 TNT1 A 0 Radius_Quake(4,2,0,1,0)
     TNT1 A 0 A_Light1
	 TNT1 A 0 A_PlaySound("weapons/demontechfire")
     DTKF A 2 Bright A_FireCustomMissile("DemonTechProjectile",Random(100,-100)/100.00,1,0,0,0,Random(100,-100)/100.00)
	 DTKF B 1 Bright A_Light2
     DTKF C 2 A_Light0
     TNT1 A 0 A_ReFire
     Goto ReadyLoop
   Empty:
     DTEK A 10 A_PlayWeaponSound("weapons/click2")	 
   AltFire:
  	 TNT1 A 0 A_JumpIfInventory("DemonMagazine",60,2)
     TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,2)
	 TNT1 A 0
	 Goto ReadyLoop
     DTKR AB 2
	 DTKR C 3
	 DTKR D 4 A_PlayWeaponSound("weapons/demontecheject")
	 TNT1 A 0 Radius_Quake(2,2,0,1,0)
	 DTKR E 2 A_PlayWeaponSound("weapons/demontechsteam")
	 DTKR F 2 Radius_Quake(2,2,0,1,0)
	 DTKR GHI 2 Radius_Quake(2,2,0,1,0)
	 DTKR J 3 A_FireCustomMissile("DemonTechEmptyMagSpawner", 0, 0, 0, 1)
	 DTKR K 15 
	 DTKR LMN 2
	 TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"Reload")	 
	 DTKR O 6 A_PlayWeaponSound("weapons/demontechload")
	 DTKR O 4 A_PlayWeaponSound("weapons/demontechclick")
     DTKR CB 3
	 DTKR A 2
	 Goto ReadyLoop
   Reload:
	 TNT1 A 0 A_TakeInventory("DemonAmmo",1)
	 TNT1 A 0 A_GiveInventory("DemonMagazine",1)
	 TNT1 A 0 A_JumpIfInventory("DemonMagazine",60,"Full")
	 TNT1 A 0 A_JumpIfInventory("DemonAmmo",1,"Reload")
	 Goto AltFire+19
   Full:
     TNT1 A 0
	 Goto AltFire+19
   GrenadeCheck:
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	 TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	 Goto Ready+6
   GrenadeToss:
  	 TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	 DTRS EDCBA 1
	 TNT1 A 4
	 HGRN ABC 1
	 HGRN D 3
	 HGRN EFGHI 2
	 TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	 TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	 TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	 HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	 HGRN J 1
	 HGRN KLM 2
	 HGRN NO 1
	 TNT1 A 6
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
     TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	 TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	 TNT1 A 0
	 Goto Ready+1
   MineCheck:
	 TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	 TNT1 A 0 A_TakeInventory("MineAction",1)
	 Goto Ready+6
   MineToss:
  	 TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	 DTRS EDCBA 1
	 TNT1 A 8
	 TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	 MINE ABCDEF 1		
	 TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	 MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	 MINE HI 1
	 MINE JK 2
	 TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
     TNT1 A 0 A_TakeInventory("Land Mine",1)
	 TNT1 A 0 A_TakeInventory("MineAction",1)
	 TNT1 A 0
	 TNT1 A 5
	 Goto Ready+1		 
   Spawn:
     DTEP A -1
     Stop
     }
}

//==================
// Demon Tech BFG10K
//==================

ACTOR "MOP Demon Tech BFG10K" : Weapon replaces "Demon Tech BFG10K"
{
Height 20
Weapon.SelectionOrder 2780
Weapon.AmmoUse 100
Weapon.AmmoGive 100
Weapon.AmmoType "DemonAmmo"
Scale 0.85
Weapon.PreferredSkin "DemonTechBFG10K-Marine"
Inventory.PickupSound "weapons/dtech10kpickup"
Inventory.PickupMessage "Demon Tech BFG10K"
Obituary "%o had no chance against %k's Demon Tech BFG10K."
+INVENTORY.UNDROPPABLE
States
{
Select:   
	TNT1 A 0 A_JumpIfNoAmmo("Select2")
    TNT1 A 0 A_PlayWeaponSound("weapons/dtech10kpickup")
    DBFI A 1 A_Raise
    Goto Select+2
Select2:   
    TNT1 A 0 A_PlayWeaponSound("weapons/dtech10kpickup")
    DBFE A 1 A_Raise
    Goto Select2+1	
Deselect:
	TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	TNT1 A 0 A_TakeInventory("MineAction",1)
	TNT1 A 0 A_TakeInventory("RailgunAction",1)
	TNT1 A 0 A_JumpIfNoAmmo("Deselect2")
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	DBFI A 1 A_Lower
    Goto Deselect+5
Deselect2:
	TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
	DBFE A 1 A_Lower
    Goto Deselect2+1	
Ready:
    TNT1 A 0 A_JumpIfNoAmmo("Ready2")
	TNT1 A 0 A_PlayWeaponSound("weapons/dtech10kidle")
    DBFI AAAABBBBCCCCBBBB 1 A_WeaponReady
    Loop
Ready2:
    TNT1 A 0 A_JumpIfInventory("DemonAmmo",100,"Ready")
	DBFE A 1 A_WeaponReady
	Loop
Fire:
	TNT1 A 0 A_Light1
    TNT1 A 0 A_PlayWeaponSound("Cardinal/9k")
	DBFG C 2 Bright Radius_Quake(1,2,0,1,0)
    DBFG DE 2 Bright Radius_Quake(2,2,0,1,0)
    DBFG FGH 2 Bright Radius_Quake(4,2,0,1,0)
	DBFG IJK 1 Bright Radius_Quake(6,3,0,1,0)
	DBFG L 15 Bright Radius_Quake(8,3,0,1,0)
	TNT1 A 0 A_Light2
    TNT1 A 0 A_GunFlash	
	DBFG M 2 Bright Radius_Quake(10,4,0,1,0)
	TNT1 A 0 A_Recoil(10)	
	TNT1 A 0 Radius_Quake(12,6,0,1,0)
	DBFG N 2 Bright A_FireCustomMissile("DTBFG10KBall",0,1,0,0)	
	DBFG OP 1 Bright
	TNT1 A 0 A_Light0
	DBFG QRST 2 Bright
	TNT1 A 0 Radius_Quake(3,10,0,1,0)
	TNT1 A 0 A_PlaySound("weapons/dtech10ksteam")
	DBFE AAAAAAAAAAAA 1 A_FireCustomMissile("DTech10KSteam",-58+Random(-4,4),0,0,0)
	DBFE A 20
	TNT1 A 0 A_JumpIfInventory("DemonAmmo",100,1)
	Goto Ready2
	DBFE A 60 A_PlayWeaponSound("weapons/dtech10kcharge")
	DBFE A 10 A_PlayWeaponSound("weapons/plasmacellin")
	Goto Ready
Spawn:
    BFUG A -1
    Stop   
    }
}

//======
// MP40
//======

ACTOR "MOP MP40" : Weapon replaces MP40
{
   Weapon.PreferredSkin "MP40-Marine"
   Weapon.SelectionOrder 7990
   Weapon.KickBack 50
   Weapon.AmmoUse 1
   Weapon.AmmoGive2 20
   Weapon.AmmoType "MP40Mag"   
   Weapon.AmmoType2 "BulletMag"
   Inventory.PickupMessage "MP40"
   Inventory.PickupSound "MP40/MagIn"
   Obituary "%o was perforated by %k's MP40."
   AttackSound "MP40/Fire"
   Decal BulletChip
   Scale 0.45
   +WEAPON.AMMO_OPTIONAL
   +WEAPON.NOALERT
   +INVENTORY.UNDROPPABLE
   States
   {
   Ready:
     TNT1 A 0 A_PlayWeaponSound("MP40/MagIn")
	 MPRS ABCDE 1
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAction",1,"GrenadeCheck")
	 TNT1 A 0 A_JumpIfInventory("MineAction",1,"MineCheck")
     MP40 A 1 A_WeaponReady
     Goto Ready+6
   Deselect:
     TNT1 A 0 A_PlayWeaponSound("weapons/weapondown")
     MP40 A 1 A_Lower
     Goto Deselect+1
   Select:
	 TNT1 A 0 A_Raise
	 Wait
   Fire:
     TNT1 A 0 A_JumpIfNoAmmo("Empty")
	 TNT1 A 0 A_AlertMonsters
     TNT1 A 0 A_GunFlash
	 TNT1 A 0 Radius_Quake(1,2,0,1,0)
     TNT1 A 0 A_Light1
	 TNT1 A 0 A_SpawnItemEx("BulletCasing",30,0,30,Random(2,4),Random(3,6),Random(3,6),0)
     MP40 B 2 Bright A_FireBullets(3.6,2.3,-1,Random(8,10),"PlayerModdedBulletPuff")
	 MP40 C 1 A_Light0
     MP40 D 1
     TNT1 A 0 A_ReFire
     Goto Ready+6
  Empty:
     MP40 A 10 A_PlayWeaponSound("weapons/click")	 
  AltFire:
  	 TNT1 A 0 A_JumpIfInventory("MP40Mag",33,2)
     TNT1 A 0 A_JumpIfInventory("BulletMag",1,2)
	 TNT1 A 0
	 Goto Ready+6
	 TNT1 A 0 A_JumpIfInventory("MP40Mag",1,"MaxReload")
     MP4R NM 1
	 MP4R LAB 1
	 MP4R C 1 A_PlayWeaponSound("MP40/MagOut")
	 MP4R DE 1
	 MP4R F 15 A_FireCustomMissile("MP40EmptyMagSpawner", 0, 0, 0, 1)
	 MP4R EDC 2
	 MP4R B 3 A_PlayWeaponSound("MP40/MagIn")
	 MP4R A 3
	 MP4R G 2
     MP4R H 3 A_PlayWeaponSound("MP40/Cock")
     MP4R I 3	
	 MP4R JKL 2
     MP4R MN 1
     MP40 A 2
	 TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload")	 
	 Goto Ready+6
   Reload:
	 TNT1 A 0 A_TakeInventory("BulletMag",1)
	 TNT1 A 0 A_GiveInventory("MP40Mag",1)
	 TNT1 A 0 A_JumpIfInventory("MP40Mag",32,2)
	 TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload")
	 TNT1 A 0 
	 Goto Ready+6
   MaxReload:
     MP4R NM 1
	 MP4R LAB 1
	 MP4R C 1 A_PlayWeaponSound("MP40/MagOut")
	 MP4R DE 1
	 MP4R F 15 A_FireCustomMissile("MP40EmptyMagSpawner", 0, 0, 0, 1)
	 MP4R ED 2
	 MP4R C 2 A_PlayWeaponSound("MP40/MagIn")
	 MP4R BA 2
	 TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload2")	
   Reload2:
	 TNT1 A 0 A_TakeInventory("BulletMag",1)
	 TNT1 A 0 A_GiveInventory("MP40Mag",1)
	 TNT1 A 0 A_JumpIfInventory("MP40Mag",33,2)
	 TNT1 A 0 A_JumpIfInventory("BulletMag",1,"Reload2")	 
   Full:
	 MP4R L 2
     MP4R MN 1
	 Goto Ready+6
   GrenadeCheck:
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,"GrenadeToss")
	 TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	 Goto Ready+6
   GrenadeToss:
  	 TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	 MPRS EDCBA 1
	 TNT1 A 4
	 HGRN ABC 1
	 HGRN D 3
	 HGRN EFGHI 2
	 TNT1 A 15 A_PlayWeaponSound("weapons/hgrenadepin")
	 TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	 TNT1 A 0 A_TakeInventory("HandGrenadeAmmo",1)
	 HGNE A 1 A_FireCustomMissile("ThrownGrenade",0,0,0,0)
	 HGRN J 1
	 HGRN KLM 2
	 HGRN NO 1
	 TNT1 A 6
	 TNT1 A 0 A_JumpIfInventory("HandGrenadeAmmo",1,2)
     TNT1 A 0 A_TakeInventory("Hand Grenade",1)
	 TNT1 A 0 A_TakeInventory("HandGrenadeAction",1)
	 TNT1 A 0
	 Goto Ready+1
   MineCheck:
	 TNT1 A 0 A_JumpIfInventory("MineAmmo",1,"MineToss")
	 TNT1 A 0 A_TakeInventory("MineAction",1)
	 Goto Ready+6
   MineToss:
  	 TNT1 A 0 A_PlayWeaponSound("weapons/weapondown") 
	 MPRS EDCBA 1
	 TNT1 A 8
	 TNT1 A 0 A_PlayWeaponSound("weapons/hgrenadethrow")
	 MINE ABCDEF 1		
	 TNT1 A 0 A_TakeInventory("MineAmmo",1)	  
	 MINE G 1 A_FireCustomMissile("ThrownMine",0,0,0,0)
	 MINE HI 1
	 MINE JK 2
	 TNT1 A 0 A_JumpIfInventory("MineAmmo",1,2)
     TNT1 A 0 A_TakeInventory("Land Mine",1)
	 TNT1 A 0 A_TakeInventory("MineAction",1)
	 TNT1 A 0
	 TNT1 A 5
	 Goto Ready+1	 
   Spawn:
     MP4P A -1
     Stop
   }
}
