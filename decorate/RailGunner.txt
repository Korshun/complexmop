Actor PossessedRailGunner : PossessedMonster
{
	Player.MorphWeapon "RailGunnerWeapon"

	Health 30
	Radius 20 
	Height 56 
	Speed 0.35
	Mass 100
	PainChance 140
	DropItem "HealthFlask" 55
	DropItem "ArmorCharge" 55
	DropItem "AmmoPack" 40
	DropItem "HandGrenadeAmmo" 100 1
	DropItem "MineAmmo" 50 1
	DropItem "NewCell" 100 20
	+FLOORCLIP 
	+MISSILEMORE
	Obituary "%o caught a Railgunner's slug." 
	SeeSound "grunt/sight"
	PainSound "grunt/pain"
	DeathSound "grunt/death"
	ActiveSound "grunt/active"
	
	States 
	{ 
	Spawn: 
        RPOS A 10
		RPOI A 10
        Loop 
	See: 
        RPOS AABB 3
        TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
        RPOS CCDD 3
        TNT1 A 0 A_SpawnItem("FootStep",0,0,0,0)
        Loop
	Missile: 
        RPOS F 5 Bright
        RPOS E 40
		RPOS E 10
		Goto See
    } 
}

Actor RailGunnerWeapon : PossessedWeapon
{
	States
	{
	Ready:
		RAIR A 1 A_WeaponReady
		Loop
	Fire:
		TNT1 A 0 A_GunFlash
		TNT1 A 0 A_Light1
		TNT1 A 0 A_PlaySound("railgunner/chargedshot")
		TNT1 A 0 A_FireCustomMissile("RailgunImpactRed")
		RAIF A 2 Bright A_RailAttack(Random(15,25), 0, 1, "Red", None, RGF_SILENT, 1)
		RAIF B 3 Bright A_Light2
		TNT1 A 0 A_Light0
		RAER ABCD 2
		RAER EFG 1
		RAIR A 29
		Goto Ready
	}
}